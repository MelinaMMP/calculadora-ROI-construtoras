<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de ROI Imobili√°rio - RedattoLAB</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Urbanist:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* Estilos globais para garantir que as fontes sejam carregadas */
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh; 
        }
        /* Estilos para o bot√£o (para garantir o efeito hover) */
        .cta-button:hover {
            background: #c89d1a !important; 
            transform: scale(1.05) !important;
        }
        .kpi-card-hover:hover {
            transform: translateY(-5px) !important;
        }
        .main-card-hover:hover {
            transform: scale(1.02) !important;
        }

        /* Media query para o layout de 4 colunas em telas maiores e adapta√ß√£o para menores */
        .input-grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px 30px;
        }

        @media (max-width: 1200px) {
            .input-grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        @media (max-width: 900px) {
            .input-grid-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 600px) {
            .input-grid-container {
                grid-template-columns: repeat(1, 1fr);
            }
        }

        /* Estilos para a tabela de Insight Estrat√©gico */
        .insight-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            color: #084d6e;
        }
        .insight-table th, .insight-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #f59e0b;
            vertical-align: top;
        }
        .insight-table th {
            font-weight: 700;
            background-color: #fef3c7;
            color: #084d6e;
        }
        .insight-table tr:last-child td {
            border-bottom: none;
        }
        .bold-label {
            font-weight: 700;
            color: #084d6e;
            white-space: nowrap;
        }
        /* Estilo para a mensagem de erro (oculto por padr√£o) */
        .error-message {
            color: #ef4444;
            font-weight: 600;
            margin-top: 15px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .error-message.visible {
            opacity: 1;
        }

        /* CORRE√á√ÉO: Responsividade da tabela de Insight Estrat√©gico para MOBILE */
        @media (max-width: 768px) {
            .insight-table {
                font-size: 12px;
            }
            
            .insight-table thead {
                display: none;
            }
            
            .insight-table tbody tr {
                margin-bottom: 20px;
                display: block;
                border: 2px solid #f59e0b;
                border-radius: 8px;
                padding: 15px;
                background: #ffffff;
            }
            
            .insight-table td {
                display: block;
                width: 100%;
                border-bottom: none;
                padding: 8px 0;
                text-align: left;
            }
            
            .insight-table td:before {
                content: attr(data-label);
                display: block;
                font-weight: 700;
                color: #f59e0b;
                margin-bottom: 5px;
            }
            
            .bold-label {
                white-space: normal !important;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef } = React;
        
        const IconComponent = ({ name, size = 24, color = 'currentColor', style = {} }) => {
            switch (name) {
                case 'Zap':
                    return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>;
                case 'Clock':
                    return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>;
                case 'Target':
                    return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>;
                case 'MessageSquare':
                    return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>;
                default:
                    return <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}><circle cx="12" cy="12" r="10"/></svg>; 
            }
        };

        const transitionStyle = { transition: 'all 0.5s ease-in-out', willChange: 'transform, box-shadow' };

        function ROICalculadora() {
            const [formData, setFormData] = useState({
                investimentoMensal: '',
                cplMedio: '',
                leadsGerados: '',
                taxaConversao: '',
                vendasMensais: '', 
                ticketMedio: '',
                margemConstrucao: '', 
                metaMelhoriaROI: '', 
            });

            const [showResults, setShowResults] = useState(false);
            const errorMessageRef = useRef(null);

            const WHATSAPP_URL = 'https://wa.me/5548999867086?text=Ol%C3%A1%2C%20calculei%20o%20ROI%20da%20minha%20construtora%20na%20calculadora%20e%20preciso%20de%20ajuda%20para%20otimizar%C3%A1-los.';
            const REDATTOLAB_PHONE = '+55 (48) 99986-7086';

            const formatCurrency = (value) => new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL', minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(value);
            const formatPercent = (value) => { if (isNaN(value) || value === -0) return '0.0%'; return `${value.toFixed(1)}%`; };
            const formatNumber = (value) => value.toFixed(1);

            const calculations = useMemo(() => {
                const {
                    investimentoMensal, cplMedio, leadsGerados, taxaConversao, vendasMensais, ticketMedio,
                    margemConstrucao, metaMelhoriaROI,
                } = formData;

                const parseNum = (value) => parseFloat(String(value).replace(',', '.')) || 0;
                
                const iMensal = parseNum(investimentoMensal);
                const cpl = parseNum(cplMedio) || 1;
                const leads = parseNum(leadsGerados);
                const taxaC = parseNum(taxaConversao);
                const vendas = parseNum(vendasMensais);
                const ticket = parseNum(ticketMedio);
                const margem = parseNum(margemConstrucao) / 100 || 0.3; 
                const metaROI = parseNum(metaMelhoriaROI) / 100 || 0.5;
                
                const receitaMensal = vendas * ticket;
                const lucroBrutoMensal = receitaMensal * margem;
                const lucroRemanescenteMarketing = lucroBrutoMensal - iMensal; 
                const roiMensal = iMensal > 0 ? (lucroRemanescenteMarketing / iMensal) * 100 : 0;
                
                const cplIdeal = ticket * 0.025; 
                const eficienciaCPL = (cplIdeal / cpl) * 100;
                const potencialReducaoCPL = iMensal * (1 - (cplIdeal / cpl));
                
                const vendidosEsperados = (leads * (taxaC / 100));
                const eficienciaVendas = vendidosEsperados > 0 ? (vendas / vendidosEsperados) * 100 : 0;
                const vendasperdidas = Math.max(0, vendidosEsperados - vendas);
                const receitaPerdida = vendasperdidas * ticket;

                const investimentoProjetado6m = iMensal * 6;
                const lucroProjetado6m = lucroRemanescenteMarketing * 6;
                
                const roiMeta = roiMensal * (1 + metaROI);
                const lucroMensalOtimizado = iMensal * (1 + (roiMeta / 100)); 
                const lucroOtimizado6m = lucroMensalOtimizado * 6;
                const ganhoOtimizacao = lucroOtimizado6m - lucroProjetado6m;
                
                const getStatus = (valor, minBom, maxRegular, invertido = false) => {
                    let bom = invertido ? valor <= minBom : valor >= minBom;
                    let regular = invertido ? valor >= maxRegular : valor >= maxRegular;

                    if (bom) return { color: '#10b981', label: 'Excelente', bg: '#ecfdf5' };
                    if (regular) return { color: '#f59e0b', label: 'Regular', bg: '#fffbeb' };
                    return { color: '#ef4444', label: 'Cr√≠tico', bg: '#fef2f2' };
                };

                return {
                    receitaMensal,
                    lucroRemanescenteMarketing,
                    roiMensal,
                    cplIdeal,
                    eficienciaCPL,
                    potencialReducaoCPL: Math.max(0, potencialReducaoCPL), 
                    vendidosEsperados,
                    eficienciaVendas,
                    vendasperdidas,
                    receitaPerdida,
                    investimentoProjetado6m,
                    lucroProjetado6m,
                    lucroOtimizado6m,
                    ganhoOtimizacao,
                    roiMeta,
                    
                    statusROI: getStatus(roiMensal, 200, 100), 
                    statusCPL: getStatus(eficienciaCPL, 100, 90), 
                    statusVendas: getStatus(eficienciaVendas, 90, 75),
                };
            }, [formData]);

            const handleChange = (e) => {
                const { name, value } = e.target;
                
                setFormData(prev => ({
                    ...prev,
                    [name]: value 
                }));
                
                if (showResults) {
                    setShowResults(false);
                }
            };
            
            const handleGenerateResults = () => {
                const iMensal = parseFloat(formData.investimentoMensal);
                
                if (iMensal > 0) {
                    setShowResults(true);
                    if (errorMessageRef.current) {
                        errorMessageRef.current.classList.remove('visible');
                    }
                } else {
                    if (errorMessageRef.current) {
                        errorMessageRef.current.classList.add('visible');
                    }
                    setShowResults(false);
                }
            };

            const KpiCard = ({ title, value, status, description, isCurrency = false, isPercent = false, mainValueColor = status.color }) => (
                <div 
                    className="kpi-card-hover"
                    style={{
                        ...transitionStyle,
                        background: status.bg,
                        borderRadius: '12px',
                        padding: '25px',
                        border: `3px solid ${status.color}`,
                        boxShadow: `0 10px 25px ${status.color.replace(')', ', 0.2)').replace('rgb', 'rgba')}`,
                        cursor: 'pointer',
                        minHeight: '200px',
                        display: 'flex',
                        flexDirection: 'column',
                        justifyContent: 'space-between'
                    }}
                    onMouseEnter={(e) => { e.currentTarget.style.transform = 'translateY(-5px)'; e.currentTarget.style.boxShadow = `0 15px 30px ${status.color.replace(')', ', 0.4)').replace('rgb', 'rgba')}` }}
                    onMouseLeave={(e) => { e.currentTarget.style.transform = 'translateY(0)'; e.currentTarget.style.boxShadow = `0 10px 25px ${status.color.replace(')', ', 0.2)').replace('rgb', 'rgba')}` }}
                >
                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '15px' }}>
                        <h3 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '18px', fontWeight: 600, color: '#084d6e', margin: 0 }}>
                            {title}
                        </h3>
                        <span style={{
                            background: status.color,
                            color: 'white',
                            padding: '6px 14px',
                            borderRadius: '20px',
                            fontSize: '12px',
                            fontWeight: 600,
                            display: 'flex',
                            alignItems: 'center',
                            gap: '6px'
                        }}>
                            {status.label}
                        </span>
                    </div>
                    <p style={{ fontSize: '42px', fontWeight: 700, color: mainValueColor, margin: '10px 0' }}>
                        {isCurrency ? formatCurrency(value) : (isPercent ? formatPercent(value) : formatNumber(value))}
                    </p>
                    <p style={{ fontSize: '14px', color: '#666', margin: 0, borderTop: '1px solid #ddd', paddingTop: '10px' }}>
                        {description}
                    </p>
                </div>
            );

            const getCTAText = () => {
                const isGoodROI = calculations.roiMensal >= 150; 

                if (isGoodROI) {
                    return {
                        title: 'Seu ROI √© s√≥lido, mas o pr√≥ximo n√≠vel o aguarda.',
                        subtitle: `Seu lucro remanescente de ${formatCurrency(calculations.lucroRemanescenteMarketing)}/m√™s √© forte! Agora, o desafio √© **escalar o investimento sem perder efici√™ncia** e garantir os +${formatCurrency(calculations.ganhoOtimizacao)} de lucro extra projetados em 6 meses.`,
                        iconColor: '#10b981',
                    };
                } else {
                    return {
                        title: 'Alerta: h√° lucro sendo deixado na mesa.',
                        priority: true,
                        subtitle: `Com um ROI de ${formatPercent(calculations.roiMensal)} e um potencial de ganho de at√© +${formatCurrency(calculations.ganhoOtimizacao)} em 6 meses, sua estrat√©gia precisa de um ajuste urgente. Estamos perdendo vendas (${formatCurrency(calculations.receitaPerdida)}/m√™s) ou pagando muito caro pelo lead.`,
                        iconColor: '#ef4444',
                    };
                }
            };

            const ctaContent = getCTAText();

            return (
                <div style={{
                    background: 'linear-gradient(180deg, #000000 0%, #084d6e 100%)',
                    minHeight: '100vh',
                    padding: '40px 20px',
                    fontFamily: 'Inter, sans-serif',
                    color: '#ffffff',
                }}>
                    <div style={{ maxWidth: '1400px', margin: '0 auto' }}>
                        <div style={{ textAlign: 'center', marginBottom: '50px' }}>
                            <img 
                                src="https://redattolab.com.br/wp-content/uploads/2025/09/RedattoLAB-400-x-150-px.png" 
                                alt="RedattoLAB Logo" 
                                style={{ maxWidth: '300px', height: 'auto', marginBottom: '20px' }} 
                            />
                            <h1 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '42px', fontWeight: 700, color: '#daa520', marginBottom: '10px' }}>
                                Calculadora de ROI imobili√°rio
                            </h1>
                            <p style={{ color: '#ffffff', fontSize: '16px', opacity: 0.9 }}>
                                Diagn√≥stico e proje√ß√£o estrat√©gica para construtoras e incorporadoras
                            </p>
                        </div>

                        <div style={{ background: '#084d6e', borderRadius: '16px', padding: '30px', marginBottom: '40px', border: '2px solid #daa520', boxShadow: '0 20px 40px rgba(0,0,0,0.3)' }}>
                            <h2 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '24px', fontWeight: 600, color: '#daa520', marginBottom: '25px' }}>
                                Seus dados atuais e metas
                            </h2>

                            <div className="input-grid-container">
                                {[
                                    { label: 'Investimento mensal (R$)', name: 'investimentoMensal', type: 'currency' },
                                    { label: 'CPL m√©dio (R$)', name: 'cplMedio', type: 'currency' },
                                    { label: 'Leads gerados/m√™s', name: 'leadsGerados', type: 'number' },
                                    { label: 'Taxa de convers√£o (%)', name: 'taxaConversao', type: 'percent' },
                                    { label: 'Vendas geradas/m√™s', name: 'vendasMensais', type: 'number' },
                                    { label: 'Ticket m√©dio (R$)', name: 'ticketMedio', type: 'currency' },
                                    { label: 'Margem de constru√ß√£o (%)', name: 'margemConstrucao', type: 'percent' },
                                    { label: 'Meta de melhoria do ROI (%) - 6m', name: 'metaMelhoriaROI', type: 'percent', highlight: true },
                                ].map(field => (
                                    <div key={field.name}>
                                        <label style={{ display: 'block', color: field.highlight ? '#10b981' : '#daa520', fontSize: '14px', fontWeight: 600, marginBottom: '8px' }}>
                                            {field.label}
                                        </label>
                                        <input
                                            type="number"
                                            name={field.name}
                                            value={formData[field.name]} 
                                            onChange={handleChange}
                                            style={{
                                                ...transitionStyle,
                                                width: '100%', 
                                                maxWidth: '220px', 
                                                padding: '12px 15px',
                                                border: `2px solid ${field.highlight ? '#10b981' : '#daa520'}`,
                                                borderRadius: '8px', background: '#ffffff', fontSize: '16px',
                                                fontFamily: 'Inter, sans-serif', color: '#084d6e',
                                                boxShadow: field.highlight ? '0 0 10px rgba(16, 185, 129, 0.5)' : 'none',
                                                boxSizing: 'border-box',
                                            }}
                                            onFocus={(e) => e.currentTarget.style.borderColor = '#ffffff'}
                                            onBlur={(e) => e.currentTarget.style.borderColor = field.highlight ? '#10b981' : '#daa520'}
                                        />
                                    </div>
                                ))}
                            </div>
                            
                            <div style={{ textAlign: 'center', marginTop: '30px' }}>
                                <button
                                    onClick={handleGenerateResults}
                                    style={{
                                        ...transitionStyle,
                                        display: 'inline-flex', alignItems: 'center', gap: '10px',
                                        padding: '15px 40px', borderRadius: '8px', 
                                        background: '#daa520', color: '#084d6e',
                                        textDecoration: 'none', fontSize: '18px', fontWeight: 700,
                                        border: 'none', cursor: 'pointer',
                                    }}
                                    onMouseEnter={(e) => { e.currentTarget.style.background = '#c89d1a'; }}
                                    onMouseLeave={(e) => { e.currentTarget.style.background = '#daa520'; }}
                                >
                                    <IconComponent name="Zap" size={20} /> GERAR RESULTADOS E DIAGN√ìSTICO
                                </button>
                                
                                <p 
                                    ref={errorMessageRef} 
                                    className="error-message" 
                                    style={{ transition: 'opacity 0.5s ease' }}
                                >
                                    ‚ö† Por favor, preencha o campo "Investimento Mensal (R$)" com um valor maior que zero.
                                </p>
                            </div>
                            
                        </div>
                        
                        {showResults && (
                            <React.Fragment>
                                
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '25px', marginBottom: '40px' }}>
                                    
                                    <KpiCard
                                        title="ROI mensal de marketing"
                                        value={calculations.roiMensal}
                                        status={calculations.statusROI}
                                        isPercent
                                        description={
                                            calculations.roiMensal > 0 
                                            ? `Lucro remanescente: ${formatCurrency(calculations.lucroRemanescenteMarketing)}/m√™s. Seu ROI √© de ${formatNumber(calculations.roiMensal / 100 + 1)}x o investimento.` 
                                            : 'Seu ROI est√° negativo ou neutro. Ajustes urgentes s√£o necess√°rios.'
                                        }
                                        mainValueColor={calculations.statusROI.color}
                                    />

                                    <KpiCard
                                        title="Efici√™ncia de CPL"
                                        value={calculations.eficienciaCPL}
                                        status={calculations.statusCPL}
                                        isPercent
                                        description={
                                            calculations.eficienciaCPL >= 100 
                                            ? `CPL ideal: ${formatCurrency(calculations.cplIdeal)}. √ìtimo! ` 
                                            : `Sua CPL (${formatCurrency(parseFloat(formData.cplMedio) || 0)}) est√° acima da ideal (${formatCurrency(calculations.cplIdeal)}). Potencial de economia: ${formatCurrency(calculations.potencialReducaoCPL)}/m√™s.`
                                        }
                                        mainValueColor={calculations.statusCPL.color}
                                    />

                                    <KpiCard
                                        title="Efici√™ncia de convers√£o"
                                        value={calculations.eficienciaVendas}
                                        status={calculations.statusVendas}
                                        isPercent
                                        description={
                                            calculations.vendasperdidas > 0 
                                            ? `Voc√™ est√° perdendo ${formatNumber(calculations.vendasperdidas)} vendas que gerariam ${formatCurrency(calculations.receitaPerdida)}/m√™s. Concentre-se no seu funil de vendas.` 
                                            : `Convers√£o acima do esperado! Mantendo ${formatNumber(calculations.vendidosEsperados)} vendas esperadas.`
                                        }
                                        mainValueColor={calculations.statusVendas.color}
                                    />
                                    
                                    <div 
                                        className="main-card-hover"
                                        style={{
                                            ...transitionStyle,
                                            background: 'linear-gradient(135deg, #daa520 0%, #c89d1a 100%)',
                                            borderRadius: '12px', padding: '25px', border: 'none',
                                            boxShadow: '0 10px 25px rgba(218, 165, 32, 0.4)',
                                            cursor: 'default',
                                            display: 'flex', flexDirection: 'column', justifyContent: 'space-between'
                                        }}
                                        onMouseEnter={(e) => e.currentTarget.style.transform = 'scale(1.02)'}
                                        onMouseLeave={(e) => e.currentTarget.style.transform = 'scale(1)'}
                                    >
                                        <h3 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '18px', fontWeight: 600, color: '#084d6e', margin: '0 0 15px 0' }}>
                                            **Lucro remanescente mensal** (ap√≥s marketing digital)
                                        </h3>
                                        <p style={{ fontSize: '36px', fontWeight: 700, color: '#084d6e', margin: '5px 0' }}>
                                            {formatCurrency(calculations.lucroRemanescenteMarketing)}
                                        </p>
                                        <p style={{ fontSize: '12px', color: '#084d6e', opacity: 0.9, margin: '8px 0 0 0', fontWeight: 500, borderTop: '1px solid rgba(8, 77, 110, 0.3)', paddingTop: '10px' }}>
                                            Receita total: {formatCurrency(calculations.receitaMensal)} (considerando margem bruta: {parseFloat(formData.margemConstrucao) || 0}%)
                                        </p>
                                    </div>
                                </div>

                                <div style={{ background: '#084d6e', borderRadius: '16px', padding: '30px', marginBottom: '40px', border: '2px solid #daa520', boxShadow: '0 20px 40px rgba(0,0,0,0.3)' }}>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '25px' }}>
                                        <IconComponent name="Clock" size={28} color="#daa520" />
                                        <h2 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '24px', fontWeight: 600, color: '#daa520', margin: 0 }}>
                                            Proje√ß√£o de lucro em 6 meses
                                        </h2>
                                        <span style={{ color: '#10b981', fontWeight: 700, fontSize: '18px', marginLeft: 'auto' }}>
                                            Meta: melhorar ROI em {formatPercent(parseFloat(formData.metaMelhoriaROI) || 0)} (ROI alvo: {formatPercent(calculations.roiMeta)})
                                        </span>
                                    </div>

                                    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '20px' }}>
                                        <div style={{ ...transitionStyle, background: 'rgba(255,255,255,0.05)', borderRadius: '12px', padding: '24px', border: '1px solid rgba(218, 165, 32, 0.3)' }}>
                                            <p style={{ color: '#ffffff', opacity: 0.8, fontSize: '13px', margin: '0 0 10px 0', fontWeight: 600 }}>Cen√°rio atual (6 meses)</p>
                                            <p style={{ fontSize: '24px', fontWeight: 700, color: '#daa520', margin: '10px 0' }}>{formatCurrency(calculations.lucroProjetado6m)}</p>
                                            <p style={{ color: '#ffffff', opacity: 0.7, fontSize: '12px', margin: 0 }}>Com investimento total de {formatCurrency(calculations.investimentoProjetado6m)}.</p>
                                        </div>

                                        <div style={{ 
                                            ...transitionStyle, 
                                            background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(218, 165, 32, 0.15) 100%)',
                                            borderRadius: '12px', padding: '24px', border: '2px solid #10b981' 
                                        }}>
                                            <p style={{ color: '#10b981', fontSize: '13px', margin: '0 0 10px 0', fontWeight: 700 }}>Cen√°rio otimizado (meta atingida)</p>
                                            <p style={{ fontSize: '24px', fontWeight: 700, color: '#10b981', margin: '10px 0' }}>{formatCurrency(calculations.lucroOtimizado6m)}</p>
                                            <p style={{ color: '#ffffff', opacity: 0.7, fontSize: '12px', margin: 0 }}>Lucro potencial ao atingir o ROI de {formatPercent(calculations.roiMeta)}.</p>
                                        </div>

                                        <div style={{ ...transitionStyle, background: 'rgba(218, 165, 32, 0.15)', borderRadius: '12px', padding: '24px', border: '2px solid #daa520', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', textAlign: 'center' }}>
                                            <p style={{ color: '#daa520', fontSize: '13px', margin: '0 0 10px 0', fontWeight: 700 }}>Ganho adicional em 6 meses</p>
                                            <p style={{ fontSize: '32px', fontWeight: 700, color: '#daa520', margin: '10px 0' }}>
                                                +{formatCurrency(calculations.ganhoOtimizacao)}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style={{
                                    background: '#fffbeb', 
                                    borderRadius: '16px',
                                    padding: '30px',
                                    marginBottom: '40px',
                                    border: '2px solid #f59e0b', 
                                    boxShadow: '0 10px 20px rgba(0,0,0,0.1)'
                                }}>
                                    <h3 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '22px', fontWeight: 700, color: '#f59e0b', margin: '0 0 15px 0', display: 'flex', alignItems: 'center', gap: '10px' }}>
                                        <IconComponent name="Target" size={24} color="#f59e0b" />
                                        Insight estrat√©gico RedattoLAB: metas de ROI em 6 meses
                                    </h3>
                                    <p style={{ fontSize: '15px', color: '#084d6e', margin: '0 0 20px 0', lineHeight: 1.5 }}>
                                        A melhoria no ROI pode ser decomposta em dois pilares: **Redu√ß√£o de custo** e **aumento de lucro**. Abaixo, as metas adequadas para o mercado imobili√°rio:
                                    </p>
                                    
                                    <table className="insight-table">
                                        <thead>
                                            <tr>
                                                <th>Cen√°rio</th>
                                                <th>% de melhoria</th>
                                                <th>Justificativa de mercado</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td data-label="Cen√°rio:" className="bold-label">Meta otimista / agressiva</td>
                                                <td data-label="% de melhoria:">100%</td>
                                                <td data-label="Justificativa:">Ideal para empresas que est√£o atualmente com ROI **baixo (abaixo de 100%)** ou **m√©dio (entre 100%-150%)** e t√™m grandes perdas de leads por funil. Focar em reduzir o CPL em 20% e aumentar a convers√£o de leads em 30% pode facilmente dobrar o ROI em 6 meses.</td>
                                            </tr>
                                            <tr>
                                                <td data-label="Cen√°rio:" className="bold-label">Meta realista / s√≥lida</td>
                                                <td data-label="% de melhoria:">50%</td>
                                                <td data-label="Justificativa:">Adequada para empresas que j√° possuem um ROI **saud√°vel (acima de 150%)**. Atingir esta meta significa manter a efici√™ncia enquanto se aumenta o volume de investimento e de leads, o que √© mais desafiador. Foca em ganhos marginais e escalabilidade segura.</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <p style={{ fontSize: '13px', color: '#084d6e', opacity: 0.8, marginTop: '20px' }}>
                                        *Sua meta de {formatPercent(parseFloat(formData.metaMelhoriaROI) || 0)} est√° alinhada com as pr√°ticas de otimiza√ß√£o no setor.*
                                    </p>
                                </div>

                                <div style={{ 
                                    background: ctaContent.iconColor === '#10b981' ? 'linear-gradient(90deg, #084d6e 50%, #10b981 100%)' : 'linear-gradient(90deg, #084d6e 50%, #ef4444 100%)',
                                    borderRadius: '16px', padding: '40px 30px', marginBottom: '40px', 
                                    border: `3px solid ${ctaContent.iconColor}`, textAlign: 'center',
                                    boxShadow: '0 10px 30px rgba(0,0,0,0.5)'
                                }}>
                                    <IconComponent name="MessageSquare" size={36} color={ctaContent.iconColor} style={{ marginBottom: '15px' }}/>
                                    <h2 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '28px', fontWeight: 700, color: ctaContent.iconColor, margin: '0 0 10px 0' }}>
                                        {ctaContent.title}
                                    </h2>
                                    <p style={{ color: '#ffffff', fontSize: '18px', opacity: 0.9, maxWidth: '800px', margin: '0 auto 30px auto' }}>
                                        {ctaContent.subtitle}
                                    </p>

                                    <a 
                                        href={WHATSAPP_URL}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        className="cta-button"
                                        style={{
                                            ...transitionStyle,
                                            display: 'inline-flex', alignItems: 'center', gap: '10px',
                                            padding: '15px 30px', borderRadius: '8px', 
                                            background: '#daa520', color: '#084d6e',
                                            textDecoration: 'none', fontSize: '18px', fontWeight: 700,
                                            boxShadow: '0 8px 15px rgba(218, 165, 32, 0.5)',
                                            border: '2px solid #daa520'
                                        }}
                                    >
                                        <IconComponent name="Zap" size={20} /> OTIMIZE MEU ROI COM A REDATTOLAB
                                    </a>
                                    <p style={{ color: '#ffffff', opacity: 0.7, fontSize: '12px', marginTop: '15px' }}>
                                        Ou ligue: {REDATTOLAB_PHONE}
                                    </p>
                                </div>

                                <div style={{ background: '#084d6e', borderRadius: '16px', padding: '30px', border: '2px solid #daa520', boxShadow: '0 20px 40px rgba(0,0,0,0.3)' }}>
                                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '25px' }}>
                                        <IconComponent name="Target" size={28} color="#daa520" />
                                        <h2 style={{ fontFamily: 'Urbanist, sans-serif', fontSize: '24px', fontWeight: 600, color: '#daa520', margin: 0 }}>
                                            Plano de a√ß√£o para {formatPercent(parseFloat(formData.metaMelhoriaROI) || 0)} de melhoria no ROI
                                        </h2>
                                    </div>

                                    <div style={{ display: 'grid', gap: '15px' }}>
                                        {[
                                            {
                                                title: 'Otimiza√ß√£o de CPL',
                                                description: calculations.eficienciaCPL < 100 
                                                    ? `**A√ß√£o urgente:** reduzir CPL de ${formatCurrency(parseFloat(formData.cplMedio) || 0)} para a meta de ${formatCurrency(calculations.cplIdeal)} focando em segmenta√ß√£o e qualidade do lead. **Prioridade m√°xima.**`
                                                    : '**Manuten√ß√£o:** seu CPL est√° eficiente. Foco agora √© escalar investimento mantendo o custo.'
                                                ,
                                                priority: calculations.eficienciaCPL < 100,
                                                icon: calculations.eficienciaCPL < 90 ? 'üî¥' : 'üü¢'
                                            },
                                            {
                                                title: 'Melhoria na convers√£o (funil)',
                                                description: calculations.eficienciaVendas < 90
                                                    ? `**Insight:** seu funil est√° perdendo ${formatNumber(calculations.vendasperdidas)} vendas (${formatCurrency(calculations.receitaPerdida)}/m√™s). Invista em treinamento de corretores, automa√ß√£o de follow-up e qualifica√ß√£o de leads (MQL/SQL).`
                                                    : '**S√≥lido:** sua convers√£o est√° √≥tima. Revise a taxa de convers√£o para identificar gargalos menores.'
                                                ,
                                                priority: calculations.eficienciaVendas < 90,
                                                icon: calculations.eficienciaVendas < 75 ? 'üî¥' : 'üü¢'
                                            },
                                            {
                                                title: 'Revis√£o da distribui√ß√£o de verba',
                                                description: `A distribui√ß√£o 35% Google / 35% Facebook / 30% Outros √© padr√£o, mas o ROI pode ser otimizado concentrando mais verba nos canais com melhor **Custo por Venda (CPV)**, e n√£o apenas CPL.`,
                                                priority: calculations.roiMensal < 150,
                                                icon: 'üîµ'
                                            },
                                            {
                                                title: 'Aumento do ticket m√©dio/vendas',
                                                description: `Para atingir sua meta de ROI de ${formatPercent(calculations.roiMeta)}, voc√™ precisar√° de mais vendas (e/ou) um ticket m√©dio maior. Estrat√©gia: Upsell/Cross-sell de unidades ou lan√ßamentos de maior valor.`,
                                                priority: calculations.ganhoOtimizacao > 0,
                                                icon: 'üîµ'
                                            }
                                        ].map((item, idx) => (
                                            <div 
                                                key={idx} 
                                                style={{
                                                    ...transitionStyle,
                                                    background: item.priority ? 'rgba(239, 68, 68, 0.08)' : 'rgba(16, 185, 129, 0.08)',
                                                    border: `2px solid ${item.priority ? '#ef4444' : '#10b981'}`,
                                                    borderRadius: '12px', padding: '18px', display: 'flex', gap: '16px',
                                                    boxShadow: item.priority ? '0 5px 15px rgba(239, 68, 68, 0.2)' : 'none'
                                                }}
                                                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = item.priority ? 'rgba(239, 68, 68, 0.15)' : 'rgba(16, 185, 129, 0.15)'}
                                                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = item.priority ? 'rgba(239, 68, 68, 0.08)' : 'rgba(16, 185, 129, 0.08)'}
                                            >
                                                <span style={{ fontSize: '24px', minWidth: '30px', lineHeight: 1 }}>{item.icon}</span>
                                                <div style={{ flex: 1 }}>
                                                    <p style={{ color: '#daa520', fontWeight: 700, margin: '0 0 6px 0', fontSize: '15px', fontFamily: 'Urbanist, sans-serif' }}>
                                                        {item.title}
                                                    </p>
                                                    <p style={{ color: '#ffffff', opacity: 0.8, margin: 0, fontSize: '14px' }}>
                                                        {item.description}
                                                    </p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div style={{ marginTop: '40px', textAlign: 'center', color: '#daa520', fontSize: '13px', opacity: 0.9 }}>
                                    <p style={{ fontFamily: 'Urbanist, sans-serif' }}>A estrat√©gia de marketing imobili√°rio exige foco em CPL ideal (2-3% do ticket) e otimiza√ß√£o do funil de vendas (2-5% convers√£o).</p>
                                </div>
                            </React.Fragment>
                        )}
                    </div>
                </div>
            );
        }
        
        const rootElement = document.getElementById("root"); 
        const root = ReactDOM.createRoot(rootElement);

        root.render(
            <ROICalculadora />
        );

    </script>
</body>
</html>
